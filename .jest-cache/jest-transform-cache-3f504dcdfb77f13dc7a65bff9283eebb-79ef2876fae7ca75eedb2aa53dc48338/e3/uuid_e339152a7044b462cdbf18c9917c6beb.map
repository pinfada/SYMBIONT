{"version":3,"names":["cov_u6om3139n","actualCoverage","s","exports","generateUUID","isCryptoUUIDAvailable","generateSecureUUID","secureRandom_1","require","secureLogger_1","f","b","crypto","randomUUID","_error","logger","warn","error","SecureRandom","uuid"],"sources":["/workspaces/SYMBIONT/src/shared/utils/uuid.ts"],"sourcesContent":["import { SecureRandom } from './secureRandom';\r\nimport { logger } from './secureLogger';\r\n\r\n/**\r\n * Génère un UUID v4 avec fallback pour les environnements sans crypto.randomUUID\r\n */\r\nexport function generateUUID(): string {\r\n  // Essayer d'abord crypto.randomUUID si disponible\r\n  if (typeof crypto !== 'undefined' && crypto.randomUUID) {\r\n    try {\r\n      return crypto.randomUUID();\r\n    } catch (_error) {\r\n      logger.warn('crypto.randomUUID failed, using fallback', { error: _error });\r\n    }\r\n  }\r\n\r\n  // Utilise notre générateur sécurisé au lieu de Math.random()\r\n  return SecureRandom.uuid();\r\n}\r\n\r\n/**\r\n * Vérifie si crypto.randomUUID est disponible dans l'environnement actuel\r\n */\r\nexport function isCryptoUUIDAvailable(): boolean {\r\n  return typeof crypto !== 'undefined' && \r\n         typeof crypto.randomUUID === 'function';\r\n}\r\n\r\n/**\r\n * Génère un UUID v4 cryptographiquement sécurisé si possible\r\n * Utilise le système SecureRandom comme fallback sécurisé\r\n */\r\nexport function generateSecureUUID(): string {\r\n  if (isCryptoUUIDAvailable()) {\r\n    return crypto.randomUUID();\r\n  }\r\n\r\n  // Utilise notre générateur sécurisé\r\n  return SecureRandom.uuid();\r\n} "],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAWK;IAAAA,aAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,aAAA;AAAAA,aAAA,GAAAE,CAAA;;;;;;AALLC,OAAA,CAAAC,YAAA,GAAAA,YAAA;AAYC;AAAAJ,aAAA,GAAAE,CAAA;AAKDC,OAAA,CAAAE,qBAAA,GAAAA,qBAAA;AAGC;AAAAL,aAAA,GAAAE,CAAA;AAMDC,OAAA,CAAAG,kBAAA,GAAAA,kBAAA;AAhCA,MAAAC,cAAA;AAAA;AAAA,CAAAP,aAAA,GAAAE,CAAA,OAAAM,OAAA;AACA,MAAAC,cAAA;AAAA;AAAA,CAAAT,aAAA,GAAAE,CAAA,OAAAM,OAAA;AAEA;;;AAGA,SAAgBJ,YAAYA,CAAA;EAAA;EAAAJ,aAAA,GAAAU,CAAA;EAAAV,aAAA,GAAAE,CAAA;EAC1B;EACA;EAAI;EAAA,CAAAF,aAAA,GAAAW,CAAA,iBAAOC,MAAM,KAAK,WAAW;EAAA;EAAA,CAAAZ,aAAA,GAAAW,CAAA,UAAIC,MAAM,CAACC,UAAU,GAAE;IAAA;IAAAb,aAAA,GAAAW,CAAA;IAAAX,aAAA,GAAAE,CAAA;IACtD,IAAI;MAAA;MAAAF,aAAA,GAAAE,CAAA;MACF,OAAOU,MAAM,CAACC,UAAU,EAAE;IAC5B,CAAC,CAAC,OAAOC,MAAM,EAAE;MAAA;MAAAd,aAAA,GAAAE,CAAA;MACfO,cAAA,CAAAM,MAAM,CAACC,IAAI,CAAC,0CAA0C,EAAE;QAAEC,KAAK,EAAEH;MAAM,CAAE,CAAC;IAC5E;EACF,CAAC;EAAA;EAAA;IAAAd,aAAA,GAAAW,CAAA;EAAA;EAED;EAAAX,aAAA,GAAAE,CAAA;EACA,OAAOK,cAAA,CAAAW,YAAY,CAACC,IAAI,EAAE;AAC5B;AAEA;;;AAGA,SAAgBd,qBAAqBA,CAAA;EAAA;EAAAL,aAAA,GAAAU,CAAA;EAAAV,aAAA,GAAAE,CAAA;EACnC,OAAO,2BAAAF,aAAA,GAAAW,CAAA,iBAAOC,MAAM,KAAK,WAAW;EAAA;EAAA,CAAAZ,aAAA,GAAAW,CAAA,UAC7B,OAAOC,MAAM,CAACC,UAAU,KAAK,UAAU;AAChD;AAEA;;;;AAIA,SAAgBP,kBAAkBA,CAAA;EAAA;EAAAN,aAAA,GAAAU,CAAA;EAAAV,aAAA,GAAAE,CAAA;EAChC,IAAIG,qBAAqB,EAAE,EAAE;IAAA;IAAAL,aAAA,GAAAW,CAAA;IAAAX,aAAA,GAAAE,CAAA;IAC3B,OAAOU,MAAM,CAACC,UAAU,EAAE;EAC5B,CAAC;EAAA;EAAA;IAAAb,aAAA,GAAAW,CAAA;EAAA;EAED;EAAAX,aAAA,GAAAE,CAAA;EACA,OAAOK,cAAA,CAAAW,YAAY,CAACC,IAAI,EAAE;AAC5B","ignoreList":[]}