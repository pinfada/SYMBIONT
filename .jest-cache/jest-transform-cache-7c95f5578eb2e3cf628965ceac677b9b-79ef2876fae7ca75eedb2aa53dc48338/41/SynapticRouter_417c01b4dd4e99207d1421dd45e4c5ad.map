{"version":3,"names":["cov_23ublqqmk2","actualCoverage","s","NeuralMesh_1","require","secureLogger_1","EventEmitter","constructor","f","SynapticRouter","predictions","Map","cache","routes","neuralMesh","NeuralMesh","setupLearningLoop","getInstance","instance","b","routeImpulse","impulse","routeKey","getRouteKey","optimizedRoute","findOptimalRoute","predicted","logger","info","type","predictedResponse","response","performRouting","route","learnFromRouting","target","addRoute","handler","set","processImpulse","exports"],"sources":["/mnt/c/Users/m_oli/Projets/SYMBIONT/src/core/messaging/SynapticRouter.ts"],"sourcesContent":["import { NeuralMesh } from '../neural/NeuralMesh';\r\nimport { logger } from '@shared/utils/secureLogger';\r\n\r\n// Types minimaux pour lever les erreurs\r\nclass EventEmitter {\r\n  constructor() {}\r\n}\r\n\r\ninterface RoutePrection { predicted?: any; predictedResponse?: any; route?: any; }\r\ninterface CachedResponse { response: any; timestamp: number; }\r\ninterface NeuralImpulse { type: string; [key: string]: any; }\r\n\r\nexport class SynapticRouter extends EventEmitter {\r\n  private static instance: SynapticRouter;\r\n  // @ts-expect-error Mesh r√©serv√© pour usage futur\r\n  private neuralMesh: NeuralMesh;\r\n  // @ts-expect-error Pr√©dictions r√©serv√©es pour usage futur\r\n  private predictions: Map<string, RoutePrection> = new Map();\r\n  // @ts-expect-error Cache r√©serv√© pour usage futur\r\n  private cache: Map<string, CachedResponse> = new Map();\r\n  private routes: Map<string, any> = new Map();\r\n  \r\n  private constructor() {\r\n    super();\r\n    this.neuralMesh = new NeuralMesh();\r\n    this.setupLearningLoop();\r\n  }\r\n\r\n  public static getInstance(): SynapticRouter {\r\n    if (!SynapticRouter.instance) {\r\n      SynapticRouter.instance = new SynapticRouter();\r\n    }\r\n    return SynapticRouter.instance;\r\n  }\r\n\r\n  public async routeImpulse(impulse: NeuralImpulse): Promise<unknown> {\r\n    const routeKey = this.getRouteKey(impulse);\r\n    \r\n    // Tentative pr√©dictive\r\n    const optimizedRoute = await this.findOptimalRoute(impulse);\r\n    \r\n    if ((optimizedRoute as {predicted?: boolean})?.predicted) {\r\n      logger.info(`üß† Predicted route for ${impulse.type}`);\r\n      return (optimizedRoute as {predictedResponse?: unknown})?.predictedResponse;\r\n    }\r\n\r\n    // Route standard\r\n    const response = await this.performRouting(impulse, (optimizedRoute as {route?: string})?.route);\r\n    \r\n    // Apprentissage\r\n    this.learnFromRouting(routeKey, (optimizedRoute as {route?: string})?.route, response);\r\n    \r\n    return response;\r\n  }\r\n\r\n  private setupLearningLoop(): void {}\r\n  // @ts-expect-error Param√®tre r√©serv√© pour usage futur\r\n  private getRouteKey(impulse: NeuralImpulse): string { return '' }\r\n  // @ts-expect-error Param√®tre r√©serv√© pour usage futur\r\n  private async findOptimalRoute(impulse: NeuralImpulse): Promise<{predicted?: boolean; predictedResponse?: unknown; route?: string}> { return {}; }\r\n  // @ts-expect-error Param√®tres r√©serv√©s pour usage futur\r\n  private async performRouting(impulse: NeuralImpulse, route: any): Promise<unknown> { return {}; }\r\n  // @ts-expect-error Param√®tres r√©serv√©s pour usage futur\r\n  private learnFromRouting(routeKey: string, route: any, response: any): void {}\r\n\r\n  // @ts-expect-error Param√®tres r√©serv√©s pour usage futur\r\n  route(type: string, target: string): any {\r\n    return null;\r\n  }\r\n\r\n  addRoute(type: string, handler: any): void {\r\n    this.routes.set(type, handler);\r\n  }\r\n\r\n  // @ts-expect-error Param√®tre r√©serv√© pour usage futur\r\n  processImpulse(impulse: any): any {\r\n    return null;\r\n  }\r\n\r\n  // Suite de l'impl√©mentation...\r\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAmBU;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAAAA,cAAA,GAAAE,CAAA;;;;;;;AAnBV,MAAAC,YAAA;AAAA;AAAA,CAAAH,cAAA,GAAAE,CAAA,OAAAE,OAAA;AACA,MAAAC,cAAA;AAAA;AAAA,CAAAL,cAAA,GAAAE,CAAA,OAAAE,OAAA;AAEA;AACA,MAAME,YAAY;EAChBC,YAAA;IAAA;IAAAP,cAAA,GAAAQ,CAAA;EAAe;;AAOjB,MAAaC,cAAe,SAAQH,YAAY;EAU9CC,YAAA;IAAA;IAAAP,cAAA,GAAAQ,CAAA;IAAAR,cAAA,GAAAE,CAAA;IACE,KAAK,EAAE;IAPT;IAAA;IAAAF,cAAA,GAAAE,CAAA;IACQ,KAAAQ,WAAW,GAA+B,IAAIC,GAAG,EAAE;IAC3D;IAAA;IAAAX,cAAA,GAAAE,CAAA;IACQ,KAAAU,KAAK,GAAgC,IAAID,GAAG,EAAE;IAAC;IAAAX,cAAA,GAAAE,CAAA;IAC/C,KAAAW,MAAM,GAAqB,IAAIF,GAAG,EAAE;IAAC;IAAAX,cAAA,GAAAE,CAAA;IAI3C,IAAI,CAACY,UAAU,GAAG,IAAIX,YAAA,CAAAY,UAAU,EAAE;IAAC;IAAAf,cAAA,GAAAE,CAAA;IACnC,IAAI,CAACc,iBAAiB,EAAE;EAC1B;EAEO,OAAOC,WAAWA,CAAA;IAAA;IAAAjB,cAAA,GAAAQ,CAAA;IAAAR,cAAA,GAAAE,CAAA;IACvB,IAAI,CAACO,cAAc,CAACS,QAAQ,EAAE;MAAA;MAAAlB,cAAA,GAAAmB,CAAA;MAAAnB,cAAA,GAAAE,CAAA;MAC5BO,cAAc,CAACS,QAAQ,GAAG,IAAIT,cAAc,EAAE;IAChD,CAAC;IAAA;IAAA;MAAAT,cAAA,GAAAmB,CAAA;IAAA;IAAAnB,cAAA,GAAAE,CAAA;IACD,OAAOO,cAAc,CAACS,QAAQ;EAChC;EAEO,MAAME,YAAYA,CAACC,OAAsB;IAAA;IAAArB,cAAA,GAAAQ,CAAA;IAC9C,MAAMc,QAAQ;IAAA;IAAA,CAAAtB,cAAA,GAAAE,CAAA,QAAG,IAAI,CAACqB,WAAW,CAACF,OAAO,CAAC;IAE1C;IACA,MAAMG,cAAc;IAAA;IAAA,CAAAxB,cAAA,GAAAE,CAAA,QAAG,MAAM,IAAI,CAACuB,gBAAgB,CAACJ,OAAO,CAAC;IAAC;IAAArB,cAAA,GAAAE,CAAA;IAE5D,IAAKsB,cAAwC,EAAEE,SAAS,EAAE;MAAA;MAAA1B,cAAA,GAAAmB,CAAA;MAAAnB,cAAA,GAAAE,CAAA;MACxDG,cAAA,CAAAsB,MAAM,CAACC,IAAI,CAAC,0BAA0BP,OAAO,CAACQ,IAAI,EAAE,CAAC;MAAC;MAAA7B,cAAA,GAAAE,CAAA;MACtD,OAAQsB,cAAgD,EAAEM,iBAAiB;IAC7E,CAAC;IAAA;IAAA;MAAA9B,cAAA,GAAAmB,CAAA;IAAA;IAED;IACA,MAAMY,QAAQ;IAAA;IAAA,CAAA/B,cAAA,GAAAE,CAAA,QAAG,MAAM,IAAI,CAAC8B,cAAc,CAACX,OAAO,EAAGG,cAAmC,EAAES,KAAK,CAAC;IAEhG;IAAA;IAAAjC,cAAA,GAAAE,CAAA;IACA,IAAI,CAACgC,gBAAgB,CAACZ,QAAQ,EAAGE,cAAmC,EAAES,KAAK,EAAEF,QAAQ,CAAC;IAAC;IAAA/B,cAAA,GAAAE,CAAA;IAEvF,OAAO6B,QAAQ;EACjB;EAEQf,iBAAiBA,CAAA;IAAA;IAAAhB,cAAA,GAAAQ,CAAA;EAAU;EACnC;EACQe,WAAWA,CAACF,OAAsB;IAAA;IAAArB,cAAA,GAAAQ,CAAA;IAAAR,cAAA,GAAAE,CAAA;IAAY,OAAO,EAAE;EAAC;EAChE;EACQ,MAAMuB,gBAAgBA,CAACJ,OAAsB;IAAA;IAAArB,cAAA,GAAAQ,CAAA;IAAAR,cAAA,GAAAE,CAAA;IAAiF,OAAO,EAAE;EAAE;EACjJ;EACQ,MAAM8B,cAAcA,CAACX,OAAsB,EAAEY,KAAU;IAAA;IAAAjC,cAAA,GAAAQ,CAAA;IAAAR,cAAA,GAAAE,CAAA;IAAsB,OAAO,EAAE;EAAE;EAChG;EACQgC,gBAAgBA,CAACZ,QAAgB,EAAEW,KAAU,EAAEF,QAAa;IAAA;IAAA/B,cAAA,GAAAQ,CAAA;EAAS;EAE7E;EACAyB,KAAKA,CAACJ,IAAY,EAAEM,MAAc;IAAA;IAAAnC,cAAA,GAAAQ,CAAA;IAAAR,cAAA,GAAAE,CAAA;IAChC,OAAO,IAAI;EACb;EAEAkC,QAAQA,CAACP,IAAY,EAAEQ,OAAY;IAAA;IAAArC,cAAA,GAAAQ,CAAA;IAAAR,cAAA,GAAAE,CAAA;IACjC,IAAI,CAACW,MAAM,CAACyB,GAAG,CAACT,IAAI,EAAEQ,OAAO,CAAC;EAChC;EAEA;EACAE,cAAcA,CAAClB,OAAY;IAAA;IAAArB,cAAA,GAAAQ,CAAA;IAAAR,cAAA,GAAAE,CAAA;IACzB,OAAO,IAAI;EACb;;AAGD;AAAAF,cAAA,GAAAE,CAAA;AApEDsC,OAAA,CAAA/B,cAAA,GAAAA,cAAA","ignoreList":[]}