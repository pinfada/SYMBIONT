50eac9f5ab2fb8e79378344cef501c1f
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const PluginManager_1 = require("./PluginManager");
describe('PluginManager', () => {
    beforeEach(() => {
        // @ts-ignore
        PluginManager_1.PluginManager['plugins'] = [];
    });
    it('enregistre et récupère un plugin', () => {
        const plugin = { id: 'test', type: 'ritual', name: 'Test' };
        PluginManager_1.PluginManager.register(plugin);
        expect(PluginManager_1.PluginManager.getPlugins().length).toBe(1);
        expect(PluginManager_1.PluginManager.getPluginById('test')).toEqual(plugin);
    });
    it('filtre par type', () => {
        PluginManager_1.PluginManager.register({ id: 'a', type: 'ritual', name: 'A' });
        PluginManager_1.PluginManager.register({ id: 'b', type: 'visualization', name: 'B' });
        expect(PluginManager_1.PluginManager.getPlugins('ritual').length).toBe(1);
        expect(PluginManager_1.PluginManager.getPlugins('visualization').length).toBe(1);
    });
    it('retourne undefined pour un id inconnu', () => {
        expect(PluginManager_1.PluginManager.getPluginById('inconnu')).toBeUndefined();
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL21udC9jL1VzZXJzL21fb2xpL1Byb2pldHMvU1lNQklPTlQvc3JjL2NvcmUvUGx1Z2luTWFuYWdlci50ZXN0LnRzIiwibWFwcGluZ3MiOiI7O0FBQUEsbURBQXdEO0FBRXhELFFBQVEsQ0FBQyxlQUFlLEVBQUUsR0FBRyxFQUFFO0lBQzdCLFVBQVUsQ0FBQyxHQUFHLEVBQUU7UUFDZCxhQUFhO1FBQ2IsNkJBQWEsQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFLENBQUM7SUFDaEMsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsa0NBQWtDLEVBQUUsR0FBRyxFQUFFO1FBQzFDLE1BQU0sTUFBTSxHQUFXLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsQ0FBQztRQUNwRSw2QkFBYSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMvQixNQUFNLENBQUMsNkJBQWEsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEQsTUFBTSxDQUFDLDZCQUFhLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQzlELENBQUMsQ0FBQyxDQUFDO0lBRUgsRUFBRSxDQUFDLGlCQUFpQixFQUFFLEdBQUcsRUFBRTtRQUN6Qiw2QkFBYSxDQUFDLFFBQVEsQ0FBQyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztRQUMvRCw2QkFBYSxDQUFDLFFBQVEsQ0FBQyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLGVBQWUsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztRQUN0RSxNQUFNLENBQUMsNkJBQWEsQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzFELE1BQU0sQ0FBQyw2QkFBYSxDQUFDLFVBQVUsQ0FBQyxlQUFlLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbkUsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsdUNBQXVDLEVBQUUsR0FBRyxFQUFFO1FBQy9DLE1BQU0sQ0FBQyw2QkFBYSxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLGFBQWEsRUFBRSxDQUFDO0lBQ2pFLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL21udC9jL1VzZXJzL21fb2xpL1Byb2pldHMvU1lNQklPTlQvc3JjL2NvcmUvUGx1Z2luTWFuYWdlci50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBsdWdpbk1hbmFnZXIsIFBsdWdpbiB9IGZyb20gJy4vUGx1Z2luTWFuYWdlcic7XHJcblxyXG5kZXNjcmliZSgnUGx1Z2luTWFuYWdlcicsICgpID0+IHtcclxuICBiZWZvcmVFYWNoKCgpID0+IHtcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIFBsdWdpbk1hbmFnZXJbJ3BsdWdpbnMnXSA9IFtdO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnZW5yZWdpc3RyZSBldCByw6ljdXDDqHJlIHVuIHBsdWdpbicsICgpID0+IHtcclxuICAgIGNvbnN0IHBsdWdpbjogUGx1Z2luID0geyBpZDogJ3Rlc3QnLCB0eXBlOiAncml0dWFsJywgbmFtZTogJ1Rlc3QnIH07XHJcbiAgICBQbHVnaW5NYW5hZ2VyLnJlZ2lzdGVyKHBsdWdpbik7XHJcbiAgICBleHBlY3QoUGx1Z2luTWFuYWdlci5nZXRQbHVnaW5zKCkubGVuZ3RoKS50b0JlKDEpO1xyXG4gICAgZXhwZWN0KFBsdWdpbk1hbmFnZXIuZ2V0UGx1Z2luQnlJZCgndGVzdCcpKS50b0VxdWFsKHBsdWdpbik7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdmaWx0cmUgcGFyIHR5cGUnLCAoKSA9PiB7XHJcbiAgICBQbHVnaW5NYW5hZ2VyLnJlZ2lzdGVyKHsgaWQ6ICdhJywgdHlwZTogJ3JpdHVhbCcsIG5hbWU6ICdBJyB9KTtcclxuICAgIFBsdWdpbk1hbmFnZXIucmVnaXN0ZXIoeyBpZDogJ2InLCB0eXBlOiAndmlzdWFsaXphdGlvbicsIG5hbWU6ICdCJyB9KTtcclxuICAgIGV4cGVjdChQbHVnaW5NYW5hZ2VyLmdldFBsdWdpbnMoJ3JpdHVhbCcpLmxlbmd0aCkudG9CZSgxKTtcclxuICAgIGV4cGVjdChQbHVnaW5NYW5hZ2VyLmdldFBsdWdpbnMoJ3Zpc3VhbGl6YXRpb24nKS5sZW5ndGgpLnRvQmUoMSk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdyZXRvdXJuZSB1bmRlZmluZWQgcG91ciB1biBpZCBpbmNvbm51JywgKCkgPT4ge1xyXG4gICAgZXhwZWN0KFBsdWdpbk1hbmFnZXIuZ2V0UGx1Z2luQnlJZCgnaW5jb25udScpKS50b0JlVW5kZWZpbmVkKCk7XHJcbiAgfSk7XHJcbn0pOyAiXSwidmVyc2lvbiI6M30=