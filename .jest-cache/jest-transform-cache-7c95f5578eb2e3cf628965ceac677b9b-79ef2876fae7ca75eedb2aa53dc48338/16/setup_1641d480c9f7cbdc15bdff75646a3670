64187d731d959e69aee91169157cf6a1
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
// Jest setup file for SYMBIONT tests
require("@testing-library/jest-dom");
// Mock global objects that might not be available in test environment
global.performance = global.performance || {};
global.performance.now = jest.fn(() => Date.now());
global.performance.mark = jest.fn();
global.performance.measure = jest.fn();
global.performance.clearMarks = jest.fn();
global.performance.clearMeasures = jest.fn();
global.performance.getEntries = jest.fn(() => []);
global.performance.getEntriesByName = jest.fn(() => []);
global.performance.getEntriesByType = jest.fn(() => []);
// Mock PerformanceObserver
global.PerformanceObserver = jest.fn().mockImplementation((callback) => ({
    observe: jest.fn(),
    disconnect: jest.fn(),
    takeRecords: jest.fn(() => [])
}));
// Mock TextEncoder/TextDecoder for Node.js
const { TextEncoder, TextDecoder } = require('util');
global.TextEncoder = TextEncoder;
global.TextDecoder = TextDecoder;
// Mock btoa/atob for Node.js
global.btoa = global.btoa || ((str) => Buffer.from(str, 'binary').toString('base64'));
global.atob = global.atob || ((str) => Buffer.from(str, 'base64').toString('binary'));
// Mock crypto for WebCrypto
const mockCryptoKey = {
    type: 'secret',
    extractable: true,
    algorithm: { name: 'AES-GCM', length: 256 },
    usages: ['encrypt', 'decrypt']
};
// Create realistic mock data
const createMockEncryptionResult = (plaintext) => {
    const encoder = new TextEncoder();
    const data = encoder.encode(plaintext);
    const iv = new Uint8Array(12);
    const mockEncrypted = new Uint8Array(data.length + 16); // +16 for auth tag
    data.forEach((byte, i) => {
        mockEncrypted[i] = byte ^ 0xAA; // Simple XOR for mock encryption
    });
    return mockEncrypted.buffer;
};
const createMockDecryptionResult = (encryptedData) => {
    const data = new Uint8Array(encryptedData);
    const decrypted = new Uint8Array(data.length - 16); // -16 for auth tag
    for (let i = 0; i < decrypted.length; i++) {
        decrypted[i] = data[i] ^ 0xAA; // Reverse XOR
    }
    return decrypted.buffer;
};
// Enhanced crypto mock with better error handling
const cryptoSubtle = {
    generateKey: jest.fn().mockImplementation(async (algorithm, extractable, usages) => {
        // Add some validation
        if (!algorithm || !usages) {
            throw new Error('Invalid parameters for generateKey');
        }
        return mockCryptoKey;
    }),
    importKey: jest.fn().mockResolvedValue(mockCryptoKey),
    exportKey: jest.fn().mockResolvedValue(new ArrayBuffer(32)),
    encrypt: jest.fn().mockImplementation(async (algorithm, key, data) => {
        try {
            if (!algorithm || !key || !data) {
                throw new Error('Missing required parameters for encryption');
            }
            const decoder = new TextDecoder();
            const plaintext = decoder.decode(data);
            return createMockEncryptionResult(plaintext);
        }
        catch (error) {
            throw new Error(`Crypto failure: ${error.message}`);
        }
    }),
    decrypt: jest.fn().mockImplementation(async (algorithm, key, data) => {
        try {
            if (!algorithm || !key || !data) {
                throw new Error('Missing required parameters for decryption');
            }
            return createMockDecryptionResult(data);
        }
        catch (error) {
            throw new Error(`Decrypt failure: ${error.message}`);
        }
    }),
    digest: jest.fn().mockImplementation(async (algorithm, data) => {
        if (!data) {
            throw new Error('Data is required for digest');
        }
        // Mock SHA-256 hash - create realistic output
        const input = data instanceof ArrayBuffer ? new Uint8Array(data) : new Uint8Array(data);
        const hash = new Uint8Array(32);
        for (let i = 0; i < 32; i++) {
            hash[i] = (input[i % input.length] + i) % 256;
        }
        return hash.buffer;
    })
};
const cryptoGetRandomValues = jest.fn((arr) => {
    // Mock crypto-secure values for tests (not cryptographically secure in test env)
    for (let i = 0; i < arr.length; i++) {
        arr[i] = Math.floor(Math.random() * 256);
    }
    return arr;
});
global.crypto = global.crypto || {};
global.crypto.subtle = cryptoSubtle;
global.crypto.getRandomValues = cryptoGetRandomValues;
// swCryptoAPI will be mocked globally
// Mock requestAnimationFrame and cancelAnimationFrame
global.requestAnimationFrame = jest.fn((callback) => {
    return setTimeout(callback, 16); // ~60fps
});
global.cancelAnimationFrame = jest.fn((id) => {
    clearTimeout(id);
});
// Mock URL.createObjectURL for Web Workers
global.URL = global.URL || {};
global.URL.createObjectURL = jest.fn(() => 'blob:mock-url');
global.URL.revokeObjectURL = jest.fn();
// Mock Worker constructor with improved functionality
global.Worker = jest.fn().mockImplementation((scriptURL) => {
    const mockWorker = {
        postMessage: jest.fn().mockImplementation((message) => {
            // Simulate async response
            setTimeout(() => {
                if (mockWorker.onmessage) {
                    mockWorker.onmessage({ data: { type: 'response', payload: message } });
                }
            }, 10);
        }),
        terminate: jest.fn(),
        addEventListener: jest.fn().mockImplementation((type, listener) => {
            if (type === 'message') {
                mockWorker.onmessage = listener;
            }
            else if (type === 'error') {
                mockWorker.onerror = listener;
            }
        }),
        removeEventListener: jest.fn(),
        onmessage: null,
        onerror: null,
        dispatchEvent: jest.fn()
    };
    // Simulate worker ready state
    setTimeout(() => {
        if (mockWorker.onmessage) {
            mockWorker.onmessage({ data: { type: 'ready' } });
        }
    }, 5);
    return mockWorker;
});
// Mock WebGL context
const createMockWebGLContext = () => ({
    // WebGL constants
    TRIANGLES: 4,
    LINES: 1,
    POINTS: 0,
    ARRAY_BUFFER: 34962,
    ELEMENT_ARRAY_BUFFER: 34963,
    DYNAMIC_DRAW: 35048,
    STATIC_DRAW: 35044,
    FLOAT: 5126,
    UNSIGNED_SHORT: 5123,
    // Buffer methods
    createBuffer: jest.fn(() => ({ id: Math.random() })),
    deleteBuffer: jest.fn(),
    bindBuffer: jest.fn(),
    bufferData: jest.fn(),
    // Vertex attributes
    vertexAttribPointer: jest.fn(),
    enableVertexAttribArray: jest.fn(),
    disableVertexAttribArray: jest.fn(),
    // Drawing
    drawArrays: jest.fn(),
    drawElements: jest.fn(),
    // Shaders (for future tests)
    createShader: jest.fn(() => ({ id: Math.random() })),
    createProgram: jest.fn(() => ({ id: Math.random() })),
    compileShader: jest.fn(),
    linkProgram: jest.fn(),
    useProgram: jest.fn(),
    // State
    viewport: jest.fn(),
    clear: jest.fn(),
    clearColor: jest.fn(),
    enable: jest.fn(),
    disable: jest.fn(),
    // Error checking
    getError: jest.fn(() => 0), // GL_NO_ERROR
    // Extensions
    getExtension: jest.fn(),
    getSupportedExtensions: jest.fn(() => [])
});
// Mock canvas and WebGL
HTMLCanvasElement.prototype.getContext = jest.fn((contextType) => {
    if (contextType === 'webgl' || contextType === 'experimental-webgl') {
        return createMockWebGLContext();
    }
    if (contextType === 'webgl2') {
        return {
            ...createMockWebGLContext(),
            createVertexArray: jest.fn(() => ({ id: Math.random() })),
            deleteVertexArray: jest.fn(),
            bindVertexArray: jest.fn()
        };
    }
    return null;
});
// Mock Chrome APIs for extension testing
const mockStorageData = {};
global.chrome = {
    runtime: {
        onMessage: {
            addListener: jest.fn(),
            removeListener: jest.fn()
        },
        sendMessage: jest.fn(),
        getURL: jest.fn((path) => `chrome-extension://mock-id/${path}`)
    },
    tabs: {
        query: jest.fn(),
        create: jest.fn(),
        update: jest.fn()
    },
    storage: {
        local: {
            get: jest.fn().mockImplementation((keys, callback) => {
                const result = {};
                if (typeof keys === 'string') {
                    if (mockStorageData[keys] !== undefined) {
                        result[keys] = mockStorageData[keys];
                    }
                }
                else if (Array.isArray(keys)) {
                    keys.forEach(key => {
                        if (mockStorageData[key] !== undefined) {
                            result[key] = mockStorageData[key];
                        }
                    });
                }
                else {
                    Object.assign(result, mockStorageData);
                }
                if (callback)
                    callback(result);
                return Promise.resolve(result);
            }),
            set: jest.fn().mockImplementation((items, callback) => {
                Object.assign(mockStorageData, items);
                if (callback)
                    callback();
                return Promise.resolve();
            }),
            remove: jest.fn().mockImplementation((keys, callback) => {
                const keysArray = Array.isArray(keys) ? keys : [keys];
                keysArray.forEach(key => delete mockStorageData[key]);
                if (callback)
                    callback();
                return Promise.resolve();
            }),
            clear: jest.fn().mockImplementation((callback) => {
                Object.keys(mockStorageData).forEach(key => delete mockStorageData[key]);
                if (callback)
                    callback();
                return Promise.resolve();
            })
        },
        sync: {
            get: jest.fn().mockResolvedValue({}),
            set: jest.fn().mockResolvedValue(undefined),
            remove: jest.fn().mockResolvedValue(undefined),
            clear: jest.fn().mockResolvedValue(undefined)
        }
    }
};
// Console override for test cleanup
const originalConsole = global.console;
global.console = {
    ...originalConsole,
    // Suppress console.log in tests unless explicitly needed
    log: process.env.JEST_VERBOSE === 'true' ? originalConsole.log : jest.fn(),
    info: process.env.JEST_VERBOSE === 'true' ? originalConsole.info : jest.fn(),
    warn: originalConsole.warn,
    error: originalConsole.error,
    debug: process.env.JEST_VERBOSE === 'true' ? originalConsole.debug : jest.fn()
};
// Increase timeout for integration tests and slower CI environments
jest.setTimeout(30000);
// Global test utilities
global.testUtils = {
    // Helper to wait for async operations
    waitFor: (ms) => new Promise(resolve => setTimeout(resolve, ms)),
    // Helper to create mock DNA sequences
    createMockDNA: (length = 16) => {
        const bases = ['A', 'T', 'C', 'G'];
        return Array.from({ length }, () => bases[Math.floor(Math.random() * bases.length)]).join('');
    },
    // Helper to create valid organism traits
    createMockTraits: () => ({
        curiosity: Math.random(),
        focus: Math.random(),
        rhythm: Math.random(),
        empathy: Math.random(),
        creativity: Math.random(),
        resilience: Math.random(),
        adaptability: Math.random(),
        memory: Math.random(),
        intuition: Math.random() * 0.2 // Intuition is typically lower
    }),
    // Helper to suppress console output during tests
    suppressConsole: () => {
        const spy = {
            log: jest.spyOn(console, 'log').mockImplementation(() => { }),
            info: jest.spyOn(console, 'info').mockImplementation(() => { }),
            warn: jest.spyOn(console, 'warn').mockImplementation(() => { }),
            error: jest.spyOn(console, 'error').mockImplementation(() => { }),
            debug: jest.spyOn(console, 'debug').mockImplementation(() => { })
        };
        return () => {
            Object.values(spy).forEach(s => s.mockRestore());
        };
    }
};
// Clean up after each test
afterEach(() => {
    jest.clearAllMocks();
    jest.clearAllTimers();
    // Clear mock storage data
    Object.keys(mockStorageData).forEach(key => delete mockStorageData[key]);
    // Reset performance mock if it exists and is a Jest mock
    if (global.performance.now && typeof global.performance.now.mockClear === 'function') {
        global.performance.now.mockClear();
    }
    // Reset RAF mocks if they exist and are Jest mocks
    if (global.requestAnimationFrame && typeof global.requestAnimationFrame.mockClear === 'function') {
        global.requestAnimationFrame.mockClear();
    }
    if (global.cancelAnimationFrame && typeof global.cancelAnimationFrame.mockClear === 'function') {
        global.cancelAnimationFrame.mockClear();
    }
});
// Global mock setup that needs to be done before imports
beforeAll(() => {
    // Mock the service-worker-adapter module
    jest.doMock('../src/background/service-worker-adapter', () => ({
        swCryptoAPI: {
            subtle: cryptoSubtle,
            getRandomValues: cryptoGetRandomValues
        }
    }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL21udC9jL1VzZXJzL21fb2xpL1Byb2pldHMvU1lNQklPTlQvX190ZXN0c19fL3NldHVwLnRzIiwibWFwcGluZ3MiOiI7O0FBQUEscUNBQXFDO0FBQ3JDLHFDQUFtQztBQUVuQyxzRUFBc0U7QUFDdEUsTUFBTSxDQUFDLFdBQVcsR0FBRyxNQUFNLENBQUMsV0FBVyxJQUFJLEVBQUUsQ0FBQztBQUM5QyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO0FBQ25ELE1BQU0sQ0FBQyxXQUFXLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQztBQUNwQyxNQUFNLENBQUMsV0FBVyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUM7QUFDdkMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDO0FBQzFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQztBQUM3QyxNQUFNLENBQUMsV0FBVyxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ2xELE1BQU0sQ0FBQyxXQUFXLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUN4RCxNQUFNLENBQUMsV0FBVyxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7QUFFeEQsMkJBQTJCO0FBQzNCLE1BQU0sQ0FBQyxtQkFBbUIsR0FBRyxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxRQUFRLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDdkUsT0FBTyxF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QUFDO0lBQ0QsSUFBSSxNQUFNLENBQUMsb0JBQW9CLElBQUksT0FBUSxNQUFNLENBQUMsb0JBQTRCLENBQUMsU0FBUyxLQUFLLFVBQVUsRUFBRSxDQUFDO1FBQ3ZHLE1BQU0sQ0FBQyxvQkFBa0MsQ0FBQyxTQUFTLEVBQUUsQ0FBQztJQUN6RCxDQUFDO0FBQ0gsQ0FBQyxDQUFDLENBQUM7QUFFSCx5REFBeUQ7QUFDekQsU0FBUyxDQUFDLEdBQUcsRUFBRTtJQUNiLHlDQUF5QztJQUN6QyxJQUFJLENBQUMsTUFBTSxDQUFDLDBDQUEwQyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7UUFDN0QsV0FBVyxFQUFFO1lBQ1gsTUFBTSxFQUFFLFlBQVk7WUFDcEIsZUFBZSxFQUFFLHFCQUFxQjtTQUN2QztLQUNGLENBQUMsQ0FBQyxDQUFDO0FBQ04sQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL21udC9jL1VzZXJzL21fb2xpL1Byb2pldHMvU1lNQklPTlQvX190ZXN0c19fL3NldHVwLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEplc3Qgc2V0dXAgZmlsZSBmb3IgU1lNQklPTlQgdGVzdHNcclxuaW1wb3J0ICdAdGVzdGluZy1saWJyYXJ5L2plc3QtZG9tJztcclxuXHJcbi8vIE1vY2sgZ2xvYmFsIG9iamVjdHMgdGhhdCBtaWdodCBub3QgYmUgYXZhaWxhYmxlIGluIHRlc3QgZW52aXJvbm1lbnRcclxuZ2xvYmFsLnBlcmZvcm1hbmNlID0gZ2xvYmFsLnBlcmZvcm1hbmNlIHx8IHt9O1xyXG5nbG9iYWwucGVyZm9ybWFuY2Uubm93ID0gamVzdC5mbigoKSA9PiBEYXRlLm5vdygpKTtcclxuZ2xvYmFsLnBlcmZvcm1hbmNlLm1hcmsgPSBqZXN0LmZuKCk7XHJcbmdsb2JhbC5wZXJmb3JtYW5jZS5tZWFzdXJlID0gamVzdC5mbigpO1xyXG5nbG9iYWwucGVyZm9ybWFuY2UuY2xlYXJNYXJrcyA9IGplc3QuZm4oKTtcclxuZ2xvYmFsLnBlcmZvcm1hbmNlLmNsZWFyTWVhc3VyZXMgPSBqZXN0LmZuKCk7XHJcbmdsb2JhbC5wZXJmb3JtYW5jZS5nZXRFbnRyaWVzID0gamVzdC5mbigoKSA9PiBbXSk7XHJcbmdsb2JhbC5wZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlOYW1lID0gamVzdC5mbigoKSA9PiBbXSk7XHJcbmdsb2JhbC5wZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlUeXBlID0gamVzdC5mbigoKSA9PiBbXSk7XHJcblxyXG4vLyBNb2NrIFBlcmZvcm1hbmNlT2JzZXJ2ZXJcclxuZ2xvYmFsLlBlcmZvcm1hbmNlT2JzZXJ2ZXIgPSBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKChjYWxsYmFjaykgPT4gKHtcclxuICBvYnNlcnZlOiBqZXN0LmZuKCksXHJcbiAgZGlzY29ubmVjdDogamVzdC5mbigpLFxyXG4gIHRha2VSZWNvcmRzOiBqZXN0LmZuKCgpID0+IFtdKVxyXG59KSk7XHJcblxyXG4vLyBNb2NrIFRleHRFbmNvZGVyL1RleHREZWNvZGVyIGZvciBOb2RlLmpzXHJcbmNvbnN0IHsgVGV4dEVuY29kZXIsIFRleHREZWNvZGVyIH0gPSByZXF1aXJlKCd1dGlsJyk7XHJcbmdsb2JhbC5UZXh0RW5jb2RlciA9IFRleHRFbmNvZGVyO1xyXG5nbG9iYWwuVGV4dERlY29kZXIgPSBUZXh0RGVjb2RlcjtcclxuXHJcbi8vIE1vY2sgYnRvYS9hdG9iIGZvciBOb2RlLmpzXHJcbmdsb2JhbC5idG9hID0gZ2xvYmFsLmJ0b2EgfHwgKChzdHI6IHN0cmluZykgPT4gQnVmZmVyLmZyb20oc3RyLCAnYmluYXJ5JykudG9TdHJpbmcoJ2Jhc2U2NCcpKTtcclxuZ2xvYmFsLmF0b2IgPSBnbG9iYWwuYXRvYiB8fCAoKHN0cjogc3RyaW5nKSA9PiBCdWZmZXIuZnJvbShzdHIsICdiYXNlNjQnKS50b1N0cmluZygnYmluYXJ5JykpO1xyXG5cclxuLy8gTW9jayBjcnlwdG8gZm9yIFdlYkNyeXB0b1xyXG5jb25zdCBtb2NrQ3J5cHRvS2V5ID0ge1xyXG4gIHR5cGU6ICdzZWNyZXQnLFxyXG4gIGV4dHJhY3RhYmxlOiB0cnVlLFxyXG4gIGFsZ29yaXRobTogeyBuYW1lOiAnQUVTLUdDTScsIGxlbmd0aDogMjU2IH0sXHJcbiAgdXNhZ2VzOiBbJ2VuY3J5cHQnLCAnZGVjcnlwdCddXHJcbn0gYXMgQ3J5cHRvS2V5O1xyXG5cclxuLy8gQ3JlYXRlIHJlYWxpc3RpYyBtb2NrIGRhdGFcclxuY29uc3QgY3JlYXRlTW9ja0VuY3J5cHRpb25SZXN1bHQgPSAocGxhaW50ZXh0OiBzdHJpbmcpID0+IHtcclxuICBjb25zdCBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XHJcbiAgY29uc3QgZGF0YSA9IGVuY29kZXIuZW5jb2RlKHBsYWludGV4dCk7XHJcbiAgY29uc3QgaXYgPSBuZXcgVWludDhBcnJheSgxMik7XHJcbiAgY29uc3QgbW9ja0VuY3J5cHRlZCA9IG5ldyBVaW50OEFycmF5KGRhdGEubGVuZ3RoICsgMTYpOyAvLyArMTYgZm9yIGF1dGggdGFnXHJcbiAgZGF0YS5mb3JFYWNoKChieXRlLCBpKSA9PiB7XHJcbiAgICBtb2NrRW5jcnlwdGVkW2ldID0gYnl0ZSBeIDB4QUE7IC8vIFNpbXBsZSBYT1IgZm9yIG1vY2sgZW5jcnlwdGlvblxyXG4gIH0pO1xyXG4gIHJldHVybiBtb2NrRW5jcnlwdGVkLmJ1ZmZlcjtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZU1vY2tEZWNyeXB0aW9uUmVzdWx0ID0gKGVuY3J5cHRlZERhdGE6IEFycmF5QnVmZmVyKSA9PiB7XHJcbiAgY29uc3QgZGF0YSA9IG5ldyBVaW50OEFycmF5KGVuY3J5cHRlZERhdGEpO1xyXG4gIGNvbnN0IGRlY3J5cHRlZCA9IG5ldyBVaW50OEFycmF5KGRhdGEubGVuZ3RoIC0gMTYpOyAvLyAtMTYgZm9yIGF1dGggdGFnXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWNyeXB0ZWQubGVuZ3RoOyBpKyspIHtcclxuICAgIGRlY3J5cHRlZFtpXSA9IGRhdGFbaV0gXiAweEFBOyAvLyBSZXZlcnNlIFhPUlxyXG4gIH1cclxuICByZXR1cm4gZGVjcnlwdGVkLmJ1ZmZlcjtcclxufTtcclxuXHJcbi8vIEVuaGFuY2VkIGNyeXB0byBtb2NrIHdpdGggYmV0dGVyIGVycm9yIGhhbmRsaW5nXHJcbmNvbnN0IGNyeXB0b1N1YnRsZSA9IHtcclxuICBnZW5lcmF0ZUtleTogamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbihhc3luYyAoYWxnb3JpdGhtLCBleHRyYWN0YWJsZSwgdXNhZ2VzKSA9PiB7XHJcbiAgICAvLyBBZGQgc29tZSB2YWxpZGF0aW9uXHJcbiAgICBpZiAoIWFsZ29yaXRobSB8fCAhdXNhZ2VzKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBwYXJhbWV0ZXJzIGZvciBnZW5lcmF0ZUtleScpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG1vY2tDcnlwdG9LZXk7XHJcbiAgfSksXHJcbiAgaW1wb3J0S2V5OiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUobW9ja0NyeXB0b0tleSksXHJcbiAgZXhwb3J0S2V5OiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUobmV3IEFycmF5QnVmZmVyKDMyKSksXHJcbiAgZW5jcnlwdDogamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbihhc3luYyAoYWxnb3JpdGhtLCBrZXksIGRhdGEpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGlmICghYWxnb3JpdGhtIHx8ICFrZXkgfHwgIWRhdGEpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVycyBmb3IgZW5jcnlwdGlvbicpO1xyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IGRlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoKTtcclxuICAgICAgY29uc3QgcGxhaW50ZXh0ID0gZGVjb2Rlci5kZWNvZGUoZGF0YSk7XHJcbiAgICAgIHJldHVybiBjcmVhdGVNb2NrRW5jcnlwdGlvblJlc3VsdChwbGFpbnRleHQpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDcnlwdG8gZmFpbHVyZTogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gICAgfVxyXG4gIH0pLFxyXG4gIGRlY3J5cHQ6IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oYXN5bmMgKGFsZ29yaXRobSwga2V5LCBkYXRhKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAoIWFsZ29yaXRobSB8fCAha2V5IHx8ICFkYXRhKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkIHBhcmFtZXRlcnMgZm9yIGRlY3J5cHRpb24nKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gY3JlYXRlTW9ja0RlY3J5cHRpb25SZXN1bHQoZGF0YSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYERlY3J5cHQgZmFpbHVyZTogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gICAgfVxyXG4gIH0pLFxyXG4gIGRpZ2VzdDogamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbihhc3luYyAoYWxnb3JpdGhtLCBkYXRhKSA9PiB7XHJcbiAgICBpZiAoIWRhdGEpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdEYXRhIGlzIHJlcXVpcmVkIGZvciBkaWdlc3QnKTtcclxuICAgIH1cclxuICAgIC8vIE1vY2sgU0hBLTI1NiBoYXNoIC0gY3JlYXRlIHJlYWxpc3RpYyBvdXRwdXRcclxuICAgIGNvbnN0IGlucHV0ID0gZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyID8gbmV3IFVpbnQ4QXJyYXkoZGF0YSkgOiBuZXcgVWludDhBcnJheShkYXRhKTtcclxuICAgIGNvbnN0IGhhc2ggPSBuZXcgVWludDhBcnJheSgzMik7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDMyOyBpKyspIHtcclxuICAgICAgaGFzaFtpXSA9IChpbnB1dFtpICUgaW5wdXQubGVuZ3RoXSArIGkpICUgMjU2O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGhhc2guYnVmZmVyO1xyXG4gIH0pXHJcbn07XHJcblxyXG5jb25zdCBjcnlwdG9HZXRSYW5kb21WYWx1ZXMgPSBqZXN0LmZuKChhcnIpID0+IHtcclxuICAvLyBNb2NrIGNyeXB0by1zZWN1cmUgdmFsdWVzIGZvciB0ZXN0cyAobm90IGNyeXB0b2dyYXBoaWNhbGx5IHNlY3VyZSBpbiB0ZXN0IGVudilcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgYXJyW2ldID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjU2KTtcclxuICB9XHJcbiAgcmV0dXJuIGFycjtcclxufSk7XHJcblxyXG5nbG9iYWwuY3J5cHRvID0gZ2xvYmFsLmNyeXB0byB8fCB7fTtcclxuZ2xvYmFsLmNyeXB0by5zdWJ0bGUgPSBjcnlwdG9TdWJ0bGU7XHJcbmdsb2JhbC5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzID0gY3J5cHRvR2V0UmFuZG9tVmFsdWVzO1xyXG5cclxuLy8gc3dDcnlwdG9BUEkgd2lsbCBiZSBtb2NrZWQgZ2xvYmFsbHlcclxuXHJcbi8vIE1vY2sgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIGFuZCBjYW5jZWxBbmltYXRpb25GcmFtZVxyXG5nbG9iYWwucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gamVzdC5mbigoY2FsbGJhY2spID0+IHtcclxuICByZXR1cm4gc2V0VGltZW91dChjYWxsYmFjaywgMTYpOyAvLyB+NjBmcHNcclxufSk7XHJcblxyXG5nbG9iYWwuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBqZXN0LmZuKChpZCkgPT4ge1xyXG4gIGNsZWFyVGltZW91dChpZCk7XHJcbn0pO1xyXG5cclxuLy8gTW9jayBVUkwuY3JlYXRlT2JqZWN0VVJMIGZvciBXZWIgV29ya2Vyc1xyXG5nbG9iYWwuVVJMID0gZ2xvYmFsLlVSTCB8fCB7fTtcclxuZ2xvYmFsLlVSTC5jcmVhdGVPYmplY3RVUkwgPSBqZXN0LmZuKCgpID0+ICdibG9iOm1vY2stdXJsJyk7XHJcbmdsb2JhbC5VUkwucmV2b2tlT2JqZWN0VVJMID0gamVzdC5mbigpO1xyXG5cclxuLy8gTW9jayBXb3JrZXIgY29uc3RydWN0b3Igd2l0aCBpbXByb3ZlZCBmdW5jdGlvbmFsaXR5XHJcbmdsb2JhbC5Xb3JrZXIgPSBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKChzY3JpcHRVUkwpID0+IHtcclxuICBjb25zdCBtb2NrV29ya2VyID0ge1xyXG4gICAgcG9zdE1lc3NhZ2U6IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKG1lc3NhZ2UpID0+IHtcclxuICAgICAgLy8gU2ltdWxhdGUgYXN5bmMgcmVzcG9uc2VcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKG1vY2tXb3JrZXIub25tZXNzYWdlKSB7XHJcbiAgICAgICAgICBtb2NrV29ya2VyLm9ubWVzc2FnZSh7IGRhdGE6IHsgdHlwZTogJ3Jlc3BvbnNlJywgcGF5bG9hZDogbWVzc2FnZSB9IH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgMTApO1xyXG4gICAgfSksXHJcbiAgICB0ZXJtaW5hdGU6IGplc3QuZm4oKSxcclxuICAgIGFkZEV2ZW50TGlzdGVuZXI6IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKHR5cGUsIGxpc3RlbmVyKSA9PiB7XHJcbiAgICAgIGlmICh0eXBlID09PSAnbWVzc2FnZScpIHtcclxuICAgICAgICBtb2NrV29ya2VyLm9ubWVzc2FnZSA9IGxpc3RlbmVyO1xyXG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdlcnJvcicpIHtcclxuICAgICAgICBtb2NrV29ya2VyLm9uZXJyb3IgPSBsaXN0ZW5lcjtcclxuICAgICAgfVxyXG4gICAgfSksXHJcbiAgICByZW1vdmVFdmVudExpc3RlbmVyOiBqZXN0LmZuKCksXHJcbiAgICBvbm1lc3NhZ2U6IG51bGwsXHJcbiAgICBvbmVycm9yOiBudWxsLFxyXG4gICAgZGlzcGF0Y2hFdmVudDogamVzdC5mbigpXHJcbiAgfTtcclxuICBcclxuICAvLyBTaW11bGF0ZSB3b3JrZXIgcmVhZHkgc3RhdGVcclxuICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgIGlmIChtb2NrV29ya2VyLm9ubWVzc2FnZSkge1xyXG4gICAgICBtb2NrV29ya2VyLm9ubWVzc2FnZSh7IGRhdGE6IHsgdHlwZTogJ3JlYWR5JyB9IH0pO1xyXG4gICAgfVxyXG4gIH0sIDUpO1xyXG4gIFxyXG4gIHJldHVybiBtb2NrV29ya2VyO1xyXG59KTtcclxuXHJcbi8vIE1vY2sgV2ViR0wgY29udGV4dFxyXG5jb25zdCBjcmVhdGVNb2NrV2ViR0xDb250ZXh0ID0gKCkgPT4gKHtcclxuICAvLyBXZWJHTCBjb25zdGFudHNcclxuICBUUklBTkdMRVM6IDQsXHJcbiAgTElORVM6IDEsXHJcbiAgUE9JTlRTOiAwLFxyXG4gIEFSUkFZX0JVRkZFUjogMzQ5NjIsXHJcbiAgRUxFTUVOVF9BUlJBWV9CVUZGRVI6IDM0OTYzLFxyXG4gIERZTkFNSUNfRFJBVzogMzUwNDgsXHJcbiAgU1RBVElDX0RSQVc6IDM1MDQ0LFxyXG4gIEZMT0FUOiA1MTI2LFxyXG4gIFVOU0lHTkVEX1NIT1JUOiA1MTIzLFxyXG4gIFxyXG4gIC8vIEJ1ZmZlciBtZXRob2RzXHJcbiAgY3JlYXRlQnVmZmVyOiBqZXN0LmZuKCgpID0+ICh7IGlkOiBNYXRoLnJhbmRvbSgpIH0pKSxcclxuICBkZWxldGVCdWZmZXI6IGplc3QuZm4oKSxcclxuICBiaW5kQnVmZmVyOiBqZXN0LmZuKCksXHJcbiAgYnVmZmVyRGF0YTogamVzdC5mbigpLFxyXG4gIFxyXG4gIC8vIFZlcnRleCBhdHRyaWJ1dGVzXHJcbiAgdmVydGV4QXR0cmliUG9pbnRlcjogamVzdC5mbigpLFxyXG4gIGVuYWJsZVZlcnRleEF0dHJpYkFycmF5OiBqZXN0LmZuKCksXHJcbiAgZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5OiBqZXN0LmZuKCksXHJcbiAgXHJcbiAgLy8gRHJhd2luZ1xyXG4gIGRyYXdBcnJheXM6IGplc3QuZm4oKSxcclxuICBkcmF3RWxlbWVudHM6IGplc3QuZm4oKSxcclxuICBcclxuICAvLyBTaGFkZXJzIChmb3IgZnV0dXJlIHRlc3RzKVxyXG4gIGNyZWF0ZVNoYWRlcjogamVzdC5mbigoKSA9PiAoeyBpZDogTWF0aC5yYW5kb20oKSB9KSksXHJcbiAgY3JlYXRlUHJvZ3JhbTogamVzdC5mbigoKSA9PiAoeyBpZDogTWF0aC5yYW5kb20oKSB9KSksXHJcbiAgY29tcGlsZVNoYWRlcjogamVzdC5mbigpLFxyXG4gIGxpbmtQcm9ncmFtOiBqZXN0LmZuKCksXHJcbiAgdXNlUHJvZ3JhbTogamVzdC5mbigpLFxyXG4gIFxyXG4gIC8vIFN0YXRlXHJcbiAgdmlld3BvcnQ6IGplc3QuZm4oKSxcclxuICBjbGVhcjogamVzdC5mbigpLFxyXG4gIGNsZWFyQ29sb3I6IGplc3QuZm4oKSxcclxuICBlbmFibGU6IGplc3QuZm4oKSxcclxuICBkaXNhYmxlOiBqZXN0LmZuKCksXHJcbiAgXHJcbiAgLy8gRXJyb3IgY2hlY2tpbmdcclxuICBnZXRFcnJvcjogamVzdC5mbigoKSA9PiAwKSwgLy8gR0xfTk9fRVJST1JcclxuICBcclxuICAvLyBFeHRlbnNpb25zXHJcbiAgZ2V0RXh0ZW5zaW9uOiBqZXN0LmZuKCksXHJcbiAgZ2V0U3VwcG9ydGVkRXh0ZW5zaW9uczogamVzdC5mbigoKSA9PiBbXSlcclxufSk7XHJcblxyXG4vLyBNb2NrIGNhbnZhcyBhbmQgV2ViR0xcclxuKEhUTUxDYW52YXNFbGVtZW50LnByb3RvdHlwZS5nZXRDb250ZXh0IGFzIGplc3QuTW9jaykgPSBqZXN0LmZuKChjb250ZXh0VHlwZSkgPT4ge1xyXG4gIGlmIChjb250ZXh0VHlwZSA9PT0gJ3dlYmdsJyB8fCBjb250ZXh0VHlwZSA9PT0gJ2V4cGVyaW1lbnRhbC13ZWJnbCcpIHtcclxuICAgIHJldHVybiBjcmVhdGVNb2NrV2ViR0xDb250ZXh0KCkgYXMgdW5rbm93biBhcyBXZWJHTFJlbmRlcmluZ0NvbnRleHQ7XHJcbiAgfVxyXG4gIGlmIChjb250ZXh0VHlwZSA9PT0gJ3dlYmdsMicpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIC4uLmNyZWF0ZU1vY2tXZWJHTENvbnRleHQoKSxcclxuICAgICAgY3JlYXRlVmVydGV4QXJyYXk6IGplc3QuZm4oKCkgPT4gKHsgaWQ6IE1hdGgucmFuZG9tKCkgfSkpLFxyXG4gICAgICBkZWxldGVWZXJ0ZXhBcnJheTogamVzdC5mbigpLFxyXG4gICAgICBiaW5kVmVydGV4QXJyYXk6IGplc3QuZm4oKVxyXG4gICAgfSBhcyB1bmtub3duIGFzIFdlYkdMMlJlbmRlcmluZ0NvbnRleHQ7XHJcbiAgfVxyXG4gIHJldHVybiBudWxsO1xyXG59KTtcclxuXHJcbi8vIE1vY2sgQ2hyb21lIEFQSXMgZm9yIGV4dGVuc2lvbiB0ZXN0aW5nXHJcbmNvbnN0IG1vY2tTdG9yYWdlRGF0YTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9IHt9O1xyXG5cclxuKGdsb2JhbCBhcyBhbnkpLmNocm9tZSA9IHtcclxuICBydW50aW1lOiB7XHJcbiAgICBvbk1lc3NhZ2U6IHtcclxuICAgICAgYWRkTGlzdGVuZXI6IGplc3QuZm4oKSxcclxuICAgICAgcmVtb3ZlTGlzdGVuZXI6IGplc3QuZm4oKVxyXG4gICAgfSBhcyBQYXJ0aWFsPGNocm9tZS5ldmVudHMuRXZlbnQ8YW55Pj4sXHJcbiAgICBzZW5kTWVzc2FnZTogamVzdC5mbigpLFxyXG4gICAgZ2V0VVJMOiBqZXN0LmZuKChwYXRoOiBzdHJpbmcpID0+IGBjaHJvbWUtZXh0ZW5zaW9uOi8vbW9jay1pZC8ke3BhdGh9YClcclxuICB9IGFzIFBhcnRpYWw8dHlwZW9mIGNocm9tZS5ydW50aW1lPixcclxuICB0YWJzOiB7XHJcbiAgICBxdWVyeTogamVzdC5mbigpLFxyXG4gICAgY3JlYXRlOiBqZXN0LmZuKCksXHJcbiAgICB1cGRhdGU6IGplc3QuZm4oKVxyXG4gIH0gYXMgUGFydGlhbDx0eXBlb2YgY2hyb21lLnRhYnM+LFxyXG4gIHN0b3JhZ2U6IHtcclxuICAgIGxvY2FsOiB7XHJcbiAgICAgIGdldDogamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigoa2V5cz86IHN0cmluZyB8IHN0cmluZ1tdIHwgbnVsbCwgY2FsbGJhY2s/OiAocmVzdWx0OiB7IFtrZXk6IHN0cmluZ106IGFueSB9KSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0OiB7IFtrZXk6IHN0cmluZ106IGFueSB9ID0ge307XHJcbiAgICAgICAgaWYgKHR5cGVvZiBrZXlzID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgaWYgKG1vY2tTdG9yYWdlRGF0YVtrZXlzXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdFtrZXlzXSA9IG1vY2tTdG9yYWdlRGF0YVtrZXlzXTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoa2V5cykpIHtcclxuICAgICAgICAgIGtleXMuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgICAgICBpZiAobW9ja1N0b3JhZ2VEYXRhW2tleV0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gbW9ja1N0b3JhZ2VEYXRhW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBPYmplY3QuYXNzaWduKHJlc3VsdCwgbW9ja1N0b3JhZ2VEYXRhKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayhyZXN1bHQpO1xyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0KTtcclxuICAgICAgfSksXHJcbiAgICAgIHNldDogamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigoaXRlbXM6IHsgW2tleTogc3RyaW5nXTogYW55IH0sIGNhbGxiYWNrPzogKCkgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIE9iamVjdC5hc3NpZ24obW9ja1N0b3JhZ2VEYXRhLCBpdGVtcyk7XHJcbiAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjaygpO1xyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgICAgfSksXHJcbiAgICAgIHJlbW92ZTogamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigoa2V5czogc3RyaW5nIHwgc3RyaW5nW10sIGNhbGxiYWNrPzogKCkgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGtleXNBcnJheSA9IEFycmF5LmlzQXJyYXkoa2V5cykgPyBrZXlzIDogW2tleXNdO1xyXG4gICAgICAgIGtleXNBcnJheS5mb3JFYWNoKGtleSA9PiBkZWxldGUgbW9ja1N0b3JhZ2VEYXRhW2tleV0pO1xyXG4gICAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2soKTtcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgICAgIH0pLFxyXG4gICAgICBjbGVhcjogamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigoY2FsbGJhY2s/OiAoKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgT2JqZWN0LmtleXMobW9ja1N0b3JhZ2VEYXRhKS5mb3JFYWNoKGtleSA9PiBkZWxldGUgbW9ja1N0b3JhZ2VEYXRhW2tleV0pO1xyXG4gICAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2soKTtcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgICAgIH0pXHJcbiAgICB9IGFzIFBhcnRpYWw8Y2hyb21lLnN0b3JhZ2UuTG9jYWxTdG9yYWdlQXJlYT4sXHJcbiAgICBzeW5jOiB7XHJcbiAgICAgIGdldDogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHt9KSxcclxuICAgICAgc2V0OiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKSxcclxuICAgICAgcmVtb3ZlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKSxcclxuICAgICAgY2xlYXI6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpXHJcbiAgICB9IGFzIFBhcnRpYWw8Y2hyb21lLnN0b3JhZ2UuU3luY1N0b3JhZ2VBcmVhPlxyXG4gIH0gYXMgUGFydGlhbDx0eXBlb2YgY2hyb21lLnN0b3JhZ2U+XHJcbn07XHJcblxyXG4vLyBDb25zb2xlIG92ZXJyaWRlIGZvciB0ZXN0IGNsZWFudXBcclxuY29uc3Qgb3JpZ2luYWxDb25zb2xlID0gZ2xvYmFsLmNvbnNvbGU7XHJcbmdsb2JhbC5jb25zb2xlID0ge1xyXG4gIC4uLm9yaWdpbmFsQ29uc29sZSxcclxuICAvLyBTdXBwcmVzcyBjb25zb2xlLmxvZyBpbiB0ZXN0cyB1bmxlc3MgZXhwbGljaXRseSBuZWVkZWRcclxuICBsb2c6IHByb2Nlc3MuZW52LkpFU1RfVkVSQk9TRSA9PT0gJ3RydWUnID8gb3JpZ2luYWxDb25zb2xlLmxvZyA6IGplc3QuZm4oKSxcclxuICBpbmZvOiBwcm9jZXNzLmVudi5KRVNUX1ZFUkJPU0UgPT09ICd0cnVlJyA/IG9yaWdpbmFsQ29uc29sZS5pbmZvIDogamVzdC5mbigpLFxyXG4gIHdhcm46IG9yaWdpbmFsQ29uc29sZS53YXJuLFxyXG4gIGVycm9yOiBvcmlnaW5hbENvbnNvbGUuZXJyb3IsXHJcbiAgZGVidWc6IHByb2Nlc3MuZW52LkpFU1RfVkVSQk9TRSA9PT0gJ3RydWUnID8gb3JpZ2luYWxDb25zb2xlLmRlYnVnIDogamVzdC5mbigpXHJcbn07XHJcblxyXG4vLyBJbmNyZWFzZSB0aW1lb3V0IGZvciBpbnRlZ3JhdGlvbiB0ZXN0cyBhbmQgc2xvd2VyIENJIGVudmlyb25tZW50c1xyXG5qZXN0LnNldFRpbWVvdXQoMzAwMDApO1xyXG5cclxuLy8gR2xvYmFsIHRlc3QgdXRpbGl0aWVzXHJcbmdsb2JhbC50ZXN0VXRpbHMgPSB7XHJcbiAgLy8gSGVscGVyIHRvIHdhaXQgZm9yIGFzeW5jIG9wZXJhdGlvbnNcclxuICB3YWl0Rm9yOiAobXM6IG51bWJlcikgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSksXHJcbiAgXHJcbiAgLy8gSGVscGVyIHRvIGNyZWF0ZSBtb2NrIEROQSBzZXF1ZW5jZXNcclxuICBjcmVhdGVNb2NrRE5BOiAobGVuZ3RoOiBudW1iZXIgPSAxNikgPT4ge1xyXG4gICAgY29uc3QgYmFzZXMgPSBbJ0EnLCAnVCcsICdDJywgJ0cnXTtcclxuICAgIHJldHVybiBBcnJheS5mcm9tKHsgbGVuZ3RoIH0sICgpID0+IGJhc2VzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGJhc2VzLmxlbmd0aCldKS5qb2luKCcnKTtcclxuICB9LFxyXG4gIFxyXG4gIC8vIEhlbHBlciB0byBjcmVhdGUgdmFsaWQgb3JnYW5pc20gdHJhaXRzXHJcbiAgY3JlYXRlTW9ja1RyYWl0czogKCkgPT4gKHtcclxuICAgIGN1cmlvc2l0eTogTWF0aC5yYW5kb20oKSxcclxuICAgIGZvY3VzOiBNYXRoLnJhbmRvbSgpLFxyXG4gICAgcmh5dGhtOiBNYXRoLnJhbmRvbSgpLFxyXG4gICAgZW1wYXRoeTogTWF0aC5yYW5kb20oKSxcclxuICAgIGNyZWF0aXZpdHk6IE1hdGgucmFuZG9tKCksXHJcbiAgICByZXNpbGllbmNlOiBNYXRoLnJhbmRvbSgpLFxyXG4gICAgYWRhcHRhYmlsaXR5OiBNYXRoLnJhbmRvbSgpLFxyXG4gICAgbWVtb3J5OiBNYXRoLnJhbmRvbSgpLFxyXG4gICAgaW50dWl0aW9uOiBNYXRoLnJhbmRvbSgpICogMC4yIC8vIEludHVpdGlvbiBpcyB0eXBpY2FsbHkgbG93ZXJcclxuICB9KSxcclxuICBcclxuICAvLyBIZWxwZXIgdG8gc3VwcHJlc3MgY29uc29sZSBvdXRwdXQgZHVyaW5nIHRlc3RzXHJcbiAgc3VwcHJlc3NDb25zb2xlOiAoKSA9PiB7XHJcbiAgICBjb25zdCBzcHkgPSB7XHJcbiAgICAgIGxvZzogamVzdC5zcHlPbihjb25zb2xlLCAnbG9nJykubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHt9KSxcclxuICAgICAgaW5mbzogamVzdC5zcHlPbihjb25zb2xlLCAnaW5mbycpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7fSksXHJcbiAgICAgIHdhcm46IGplc3Quc3B5T24oY29uc29sZSwgJ3dhcm4nKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge30pLFxyXG4gICAgICBlcnJvcjogamVzdC5zcHlPbihjb25zb2xlLCAnZXJyb3InKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge30pLFxyXG4gICAgICBkZWJ1ZzogamVzdC5zcHlPbihjb25zb2xlLCAnZGVidWcnKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge30pXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBPYmplY3QudmFsdWVzKHNweSkuZm9yRWFjaChzID0+IHMubW9ja1Jlc3RvcmUoKSk7XHJcbiAgICB9O1xyXG4gIH1cclxufTtcclxuXHJcbi8vIENsZWFuIHVwIGFmdGVyIGVhY2ggdGVzdFxyXG5hZnRlckVhY2goKCkgPT4ge1xyXG4gIGplc3QuY2xlYXJBbGxNb2NrcygpO1xyXG4gIGplc3QuY2xlYXJBbGxUaW1lcnMoKTtcclxuICBcclxuICAvLyBDbGVhciBtb2NrIHN0b3JhZ2UgZGF0YVxyXG4gIE9iamVjdC5rZXlzKG1vY2tTdG9yYWdlRGF0YSkuZm9yRWFjaChrZXkgPT4gZGVsZXRlIG1vY2tTdG9yYWdlRGF0YVtrZXldKTtcclxuICBcclxuICAvLyBSZXNldCBwZXJmb3JtYW5jZSBtb2NrIGlmIGl0IGV4aXN0cyBhbmQgaXMgYSBKZXN0IG1vY2tcclxuICBpZiAoZ2xvYmFsLnBlcmZvcm1hbmNlLm5vdyAmJiB0eXBlb2YgKGdsb2JhbC5wZXJmb3JtYW5jZS5ub3cgYXMgYW55KS5tb2NrQ2xlYXIgPT09ICdmdW5jdGlvbicpIHtcclxuICAgIChnbG9iYWwucGVyZm9ybWFuY2Uubm93IGFzIGplc3QuTW9jaykubW9ja0NsZWFyKCk7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIFJlc2V0IFJBRiBtb2NrcyBpZiB0aGV5IGV4aXN0IGFuZCBhcmUgSmVzdCBtb2Nrc1xyXG4gIGlmIChnbG9iYWwucmVxdWVzdEFuaW1hdGlvbkZyYW1lICYmIHR5cGVvZiAoZ2xvYmFsLnJlcXVlc3RBbmltYXRpb25GcmFtZSBhcyBhbnkpLm1vY2tDbGVhciA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgKGdsb2JhbC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgYXMgamVzdC5Nb2NrKS5tb2NrQ2xlYXIoKTtcclxuICB9XHJcbiAgaWYgKGdsb2JhbC5jYW5jZWxBbmltYXRpb25GcmFtZSAmJiB0eXBlb2YgKGdsb2JhbC5jYW5jZWxBbmltYXRpb25GcmFtZSBhcyBhbnkpLm1vY2tDbGVhciA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgKGdsb2JhbC5jYW5jZWxBbmltYXRpb25GcmFtZSBhcyBqZXN0Lk1vY2spLm1vY2tDbGVhcigpO1xyXG4gIH1cclxufSk7XHJcblxyXG4vLyBHbG9iYWwgbW9jayBzZXR1cCB0aGF0IG5lZWRzIHRvIGJlIGRvbmUgYmVmb3JlIGltcG9ydHNcclxuYmVmb3JlQWxsKCgpID0+IHtcclxuICAvLyBNb2NrIHRoZSBzZXJ2aWNlLXdvcmtlci1hZGFwdGVyIG1vZHVsZVxyXG4gIGplc3QuZG9Nb2NrKCcuLi9zcmMvYmFja2dyb3VuZC9zZXJ2aWNlLXdvcmtlci1hZGFwdGVyJywgKCkgPT4gKHtcclxuICAgIHN3Q3J5cHRvQVBJOiB7XHJcbiAgICAgIHN1YnRsZTogY3J5cHRvU3VidGxlLFxyXG4gICAgICBnZXRSYW5kb21WYWx1ZXM6IGNyeXB0b0dldFJhbmRvbVZhbHVlc1xyXG4gICAgfVxyXG4gIH0pKTtcclxufSk7XHJcblxyXG4vLyBUeXBlU2NyaXB0IGRlY2xhcmF0aW9ucyBmb3IgZ2xvYmFsIHRlc3QgdXRpbGl0aWVzXHJcbmRlY2xhcmUgZ2xvYmFsIHtcclxuICB2YXIgdGVzdFV0aWxzOiB7XHJcbiAgICB3YWl0Rm9yOiAobXM6IG51bWJlcikgPT4gUHJvbWlzZTx2b2lkPjtcclxuICAgIGNyZWF0ZU1vY2tETkE6IChsZW5ndGg/OiBudW1iZXIpID0+IHN0cmluZztcclxuICAgIGNyZWF0ZU1vY2tUcmFpdHM6ICgpID0+IGFueTtcclxuICAgIHN1cHByZXNzQ29uc29sZTogKCkgPT4gKCkgPT4gdm9pZDtcclxuICB9O1xyXG59ICJdLCJ2ZXJzaW9uIjozfQ==