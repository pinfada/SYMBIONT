"use strict";(self.webpackChunksymbiont=self.webpackChunksymbiont||[]).push([[969],{969:(e,t,s)=>{s.r(t),s.d(t,{MetricsPanel:()=>j,default:()=>p});var a=s(848),i=s(540);const n=({data:e})=>e&&0!==e.length?(0,a.jsx)("div",{className:"behavior-patterns",children:(0,a.jsx)("ul",{className:"behavior-list",children:e.map((e=>(0,a.jsxs)("li",{className:"behavior-item",children:[(0,a.jsxs)("div",{className:"behavior-item__header",children:[(0,a.jsx)("span",{className:`behavior-type behavior-type--${e.type}`,children:e.type}),(0,a.jsxs)("span",{className:"behavior-confidence",children:[Math.round(100*e.confidence),"%"]})]}),(0,a.jsx)("p",{className:"behavior-description",children:e.description}),(0,a.jsx)("div",{className:"behavior-timestamp",children:c(e.lastSeen)})]},e.id)))})}):(0,a.jsx)("div",{className:"behavior-patterns--empty",children:(0,a.jsx)("p",{children:"No behavior patterns detected yet"})}),c=e=>{const t=Date.now()-e;if(t<6e4)return"just now";if(t<36e5){const e=Math.floor(t/6e4);return`${e} minute${1!==e?"s":""} ago`}if(t<864e5){const e=Math.floor(t/36e5);return`${e} hour${1!==e?"s":""} ago`}{const e=Math.floor(t/864e5);return`${e} day${1!==e?"s":""} ago`}},r=({data:e})=>{if(!e||0===e.length)return(0,a.jsx)("div",{className:"activity-timeline--empty",children:(0,a.jsx)("p",{children:"No activity recorded yet"})});const t=l(e);return(0,a.jsx)("div",{className:"activity-timeline",children:Object.entries(t).map((([e,t])=>(0,a.jsxs)("div",{className:"timeline-hour",children:[(0,a.jsx)("div",{className:"timeline-hour__header",children:(0,a.jsx)("h4",{children:o(parseInt(e))})}),(0,a.jsx)("ul",{className:"timeline-activities",children:t.map((e=>(0,a.jsxs)("li",{className:"timeline-activity",children:[(0,a.jsx)("div",{className:`activity-icon activity-icon--${e.type}`,children:m(e.type)}),(0,a.jsxs)("div",{className:"activity-content",children:[(0,a.jsx)("div",{className:"activity-title",children:x(e)}),e.duration&&(0,a.jsx)("div",{className:"activity-duration",children:h(e.duration)})]}),(0,a.jsx)("div",{className:"activity-time",children:d(e.timestamp)})]},e.id)))})]},e)))})},l=e=>{const t={};return e.forEach((e=>{const s=new Date(e.timestamp).getHours();t[s]||(t[s]=[]),t[s].push(e)})),Object.fromEntries(Object.entries(t).sort((([e],[t])=>parseInt(t)-parseInt(e))))},o=e=>`${e%12||12} ${e<12?"AM":"PM"}`,d=e=>new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),h=e=>{const t=Math.floor(e/6e4),s=Math.floor(e%6e4/1e3);return t>0?`${t}m ${s}s`:`${s}s`},m=e=>{switch(e){case"navigation":return"üß≠";case"interaction":return"üëÜ";case"search":return"üîç";case"reading":return"üìñ";case"idle":return"‚è∏Ô∏è";default:return"‚Ä¢"}},x=e=>{switch(e.type){case"navigation":return e.url?`Visited ${new URL(e.url).hostname}`:"Navigated to a page";case"interaction":return"Interacted with content";case"search":return"Searched for content";case"reading":return"Read content";case"idle":return"Idle period";default:return e.type||"Unknown activity"}};var u=s(23),v=s(526);const j=()=>{const{organism:e}=(0,u.YT)(),[t,s]=(0,i.useState)([]),[c,l]=(0,i.useState)([]);return(0,i.useEffect)((()=>{const e=async()=>{const e=new v.p;await e.initialize();try{const t=await e.getBehaviorPatterns();s(t);const a=await e.getRecentActivity();l(a)}catch(e){s([]),l([])}};e();const t=setInterval(e,1e4);return()=>clearInterval(t)}),[]),e?(0,a.jsxs)("div",{className:"ext-metrics-panel max-w-xl mx-auto p-6 bg-white rounded-xl shadow-lg mt-8",children:[(0,a.jsxs)("section",{className:"ext-metrics-section mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-[#00e0ff] mb-2",children:"Behavior Patterns"}),(0,a.jsx)(n,{data:t})]}),(0,a.jsxs)("section",{className:"ext-metrics-section mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-[#00e0ff] mb-2",children:"Activity Timeline"}),(0,a.jsx)(r,{data:c})]}),(0,a.jsxs)("section",{className:"ext-metrics-section",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-[#00e0ff] mb-2",children:"Evolution Stats"}),(0,a.jsxs)("div",{className:"ext-evolution-stats flex gap-8 justify-center",children:[(0,a.jsxs)("div",{className:"ext-stat-item flex flex-col items-center",children:[(0,a.jsx)("span",{className:"ext-stat-label text-[#888] text-sm",children:"Total Mutations"}),(0,a.jsx)("span",{className:"ext-stat-value text-lg font-bold",children:e.mutations?.length||0})]}),(0,a.jsxs)("div",{className:"ext-stat-item flex flex-col items-center",children:[(0,a.jsx)("span",{className:"ext-stat-label text-[#888] text-sm",children:"G√©n√©ration"}),(0,a.jsx)("span",{className:"ext-stat-value text-lg font-bold",children:e.generation})]}),(0,a.jsxs)("div",{className:"ext-stat-item flex flex-col items-center",children:[(0,a.jsx)("span",{className:"ext-stat-label text-[#888] text-sm",children:"√Çge"}),(0,a.jsxs)("span",{className:"ext-stat-value text-lg font-bold",children:[Math.floor((Date.now()-(e.createdAt??0))/36e5),"h"]})]})]})]})]}):null},p=j}}]);